/*coolie@0.21.9*/
define("0",["3j","3k","3p","b","c","d","e"],function(e,o,n){"use strict";e("3j");e("3k");e("3p");var t=e("b"),a=e("c"),c=e("d"),s=e("e"),r="/admin/api/developer/?id="+window["-id-"],i={};i.init=function(){t({url:r}).on("success",i._onsuccess).on("error",a)};i._onsuccess=function(e){var o=i._calData(e),n=new Vue({el:"#form",data:{developer:e.developer}}),t=new Vue({el:"#statistics",data:o,methods:{onsave:i._onsave}}),a=new Vue({el:"#role",data:s.extend({developer:e.developer},o),methods:{onsave:i._onsave}});i.vue1=n;i.vue2=t;i.vue3=a;n.$el.classList.remove("none");t.$el.classList.remove("none");a.$el.classList.remove("none")};i._calData=function(e){var o=e.developer,n=o.sectionStatistics||{},t=o.categoryStatistics||{},a=e.section,c=e.category,s=e.group,r=e.developer.role;a.forEach(function(e){e.roleVal=1<<e.role;e.checked=(r&e.roleVal)>0;e.objectCount=n[e.id]||0});c.forEach(function(e){e.objectCount=t[e.id]||0});s.forEach(function(e){e.roleVal=1<<e.role;e.checked=(r&e.roleVal)>0});var i=[];i.push({name:"发布权限",list:a});i.push({name:"用户权限",list:s});return{kinds:i,group:s,section:a,category:c,sectionObjectCount:n["0"]||0,categoryObjectCount:t["0"]||0}};i._onsave=function(e,o){var n=this,s=e.target,l=[0],d=n.$data.kinds,u=function(){d.forEach(function(e){e.list.forEach(function(e){e.checked&&l.push(e.role)})});s.disabled=!0;t({url:r,method:"post",body:{id:o,roleArray:l}}).on("success",function(e){i.vue1.$data.developer=e;n.$data.developer=e;i._calData(n.$data)}).on("error",a).on("finish",function(){s.disabled=!1})};c("确定要修改该用户的权限控制吗？").on("sure",u)};i.init()});
define("3j",["4","7","m"],function(n){"use strict";var e=n("4"),o=n("7"),t=n("m"),r={};r.scrollTop=function(){var n=e.query("header")[0];t.on(n,"selectstart",function(n){n.preventDefault()});t.on(n,"dblclick",function(n){o.scrollTo(window,{y:0},{duration:234});n.preventDefault()})};r.scrollTop()});
define("3k",["b","c","e","4","5"],function(n,a,v){"use strict";var e=n("b"),i=n("c"),c=n("e"),t=n("4"),d=n("5"),o={};o.nav=function(){var n="nav-"+(window["-nav-"]||"home"),a=t.query("#nav ."+n)[0];d.addClass(a,"active")};o.nav()});
define("b",["r","s","c","t","p","o"],function(e,n,o){"use strict";var r=e("r"),t="application/json; charset=utf-8",i=e("s"),c=e("c"),s=e("t"),a=e("p"),d=e("o"),u=d["extends"](a).create(function(e){var n=this,o=e.body&&e.body.constructor===FormData;e.headers=e.headers||{};o||(e.headers["content-type"]=e.headers["content-type"]||t);e.headers.accept=t;e.headers["x-request-csrf"]=window["-csrf-"];o||(e.body=JSON.stringify(e.body));if(e.loading!==!1&&null!==e.loading){n.loading&&n.loading.done();n.loading=new s(window,e.loading)}n.xhr=r.ajax(e).on("success",function(e){switch(e.code){case 400:break;case 401:return c(e).on("sure",i);case 406:return c(e).on("close",function(){location.replace("/")})}if(200===e.code)return n.emit("success",e.data);var o=new Error(e.message);o.code=e.code;n.emit("error",o)}).on("error",function(e){n.emit("error",e)}).on("progress",function(e){n.emit("progress",e)}).on("complete finish",function(e,o){if(!e&&200!==o.code){e=new Error(o.message);e.code=o.code}n.emit(this.alienEmitter.type,e,o&&o.data)}).on("complete",function(){if(n.loading){n.loading.done();n.loading=null}})});o.exports=function(e){return new u(e)}});
define("s",[],function(e,o,n){"use strict";n.exports=function(){var e=window.screen.width,o=window.screen.height,n=1080,i=600,t=(e-n)/2,r=(o-i)/3,h="/developer/oauth/authorize/";e>1080?window.open(h,"授权 github 登录","width="+n+",height="+i+",top="+r+",left="+t+",scrollbars=no,resizable=no,menubar=no"):window.location.href=h}});
define("3p",["23"],function(e,t,r){"use strict";var f=e("23");Vue.filter("datefrom",function(e){return f.from(e)});Vue.filter("datetime",function(e){return f.format("YYYY-MM-DD HH:mm:ss 星期e",e)})});
coolie.chunk(["0","1","2"]);