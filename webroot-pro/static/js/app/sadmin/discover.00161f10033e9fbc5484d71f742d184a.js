/*coolie@0.21.18*/
define("0",["3m","3n","b","d","c"],function(e,n,i){"use strict";e("3m");e("3n");var t=window.Vue,o={list:[],link:{id:"",category:"",text:"",url:"",index:1},categories:[],edit:!1},u=e("b"),c=e("d"),r=e("c"),s={},l="/admin/api/link/";s.init=function(){u({url:"/admin/api/category/",query:{type:2}}).on("success",function(e){o.categories=e.map(function(e){return{text:e.name,value:e.id}});s.buildVue();if(o.categories.length){o.link.category=o.categories[0].value;s.getList(o.link.category)}}).on("error",r)};s.getList=function(e){u({url:l,query:{category:e||o.link.category}}).on("success",function(e){o.list=e})};s.onsubmit=function(){u({url:l,method:"put",body:o.link}).on("success",function(e){o.edit||o.list.push(e);s.onreset()}).on("error",r)};s.onreset=function(){o.edit=!1;o.link.id="";o.link.text="";o.link.url="";o.link.index="1"};s.onedit=function(e){o.edit=!0;o.link.id=e.id;o.link.category=e.category;o.link.text=e.text;o.link.url=e.url;o.link.index=e.index};s.onremove=function(e,n){c("确认需要删除该链接吗").on("sure",function(){u({url:l,method:"delete",body:{id:e.id}}).on("success",function(){o.list.splice(n,1)})})};s.buildVue=function(){s.vue=new t({el:"#vue",data:o,methods:{onsubmit:s.onsubmit,onreset:s.onreset,onedit:s.onedit,onremove:s.onremove}});s.vue.$watch("verified",function(e){s.getList()});s.vue.$watch("link.category",function(e){s.getList(e)})};s.init()});
define("3m",["4","7","m"],function(n){"use strict";var e=n("4"),o=n("7"),t=n("m"),r={};r.scrollTop=function(){var n=e.query("header")[0];t.on(n,"selectstart",function(n){n.preventDefault()});t.on(n,"dblclick",function(n){o.scrollTo(window,{y:0},{duration:234});n.preventDefault()})};r.scrollTop()});
define("3n",["b","c","e","4","5"],function(n,a,v){"use strict";var e=n("b"),i=n("c"),c=n("e"),t=n("4"),d=n("5"),o={};o.nav=function(){var n="nav-"+(window["-nav-"]||"home"),a=t.query("#nav ."+n)[0];d.addClass(a,"active")};o.nav()});
define("b",["r","s","c","t","p","f","o"],function(e,o,n){"use strict";var r=e("r"),t="application/json; charset=utf-8",c=e("s"),s=e("c"),i=e("t"),a=new i,d=e("p"),u=e("f"),f=e("o"),l=f["extends"](d).create(function(e){var o=this,n=e.body&&e.body.constructor===FormData;e.headers=e.headers||{};n||(e.headers["content-type"]=e.headers["content-type"]||t);e.headers.accept=t;e.headers["x-request-csrf"]=window["-csrf-"];n||(e.body=JSON.stringify(e.body));if(e.loading!==!1&&null!==e.loading){e.loading=e.loading||"加载中";a.setText(e.loading).open()}o.xhr=r.ajax(e).on("success",function(e){switch(e.code){case 400:break;case 401:return s(e).on("sure",c);case 406:return s(e).on("close",function(){location.replace("/")})}if(200===e.code)return o.emit("success",e.data);var n=new Error(e.message);n.code=e.code;o.emit("error",n)}).on("error",function(e){o.emit("error",e)}).on("progress",function(e){o.emit("progress",e)}).on("complete finish",function(e,n){if(!e&&200!==n.code){e=new Error(n.message);e.code=n.code}o.emit(this.alienEmitter.type,e,n&&n.data)}).on("complete",function(){a.close()})});n.exports=function(e){return new l(e)}});
define("s",[],function(e,o,n){"use strict";n.exports=function(){var e=window.screen.width,o=window.screen.height,n=1080,i=600,t=(e-n)/2,r=(o-i)/3,h="/developer/oauth/authorize/";e>1080?window.open(h,"授权 github 登录","width="+n+",height="+i+",top="+r+",left="+t+",scrollbars=no,resizable=no,menubar=no"):window.location.href=h}});
coolie.chunk(["0","1","2"]);