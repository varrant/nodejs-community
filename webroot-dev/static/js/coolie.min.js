/*!
 * coolie 苦力
 * @author ydr.me
 * @version 0.12.0
 * @license MIT
 */
!function(e){"use strict";var n,t="0.12.0",r=function(){return(new Date).getTime()},o=0,i=e.document,u={},c=[],a=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},s=function(e){return"array"===a(e)},f=function(e){return"function"===a(e)},l=function(e){return"string"===a(e)},d=function(e,n,t){var r,o;if(s(e))for(r=t?e.length-1:0,o=t?0:e.length;(t?r>o:o>r)&&n(r,e[r])!==!1;t?r--:r++);else if("object"==typeof e)for(r in e)if(n(r,e[r])===!1)break},p=function(){var n={},t=e.console,r=["log","warn","group","groupEnd"];return d(r,function(e,r){n[r]=function(){if(u.debug&&t&&t[r])try{t[r].apply(t,arguments)}catch(e){}}}),n}(),v=/\/[^/]+$/,h=/^((ftp|file|https?):)?\/\/[^\/]*/,g=/^\/\//,m=function(e,n){return e=e.replace(h,""),"/"===e?e:v.test(e)?n?e+"/":e.replace(v,"/"):e},_=/^\/|((http|ftp)s?:\/\/)/,y=/^(\.{1,2})\//,x=/(\/[^/]+?)?\/$/,b=function(e,n){if(!n||_.test(n))return n;var t;for(n="./"+n;t=n.match(y);)n=n.replace(y,""),2===t[1].length&&(e=e.replace(x,"/"));return e+n},j=function(e,n){return(n||i).getElementsByTagName(e)},w=/[\?#].*?$/,A=/\.js($|\?)/i,$=function(e,n){return e=e.replace(w,""),n?e:(x.test(e)&&(e+="index"),e+(A.test(e)?"":".js"))},q=function(e){return $(e.hasAttribute?e.src:e.getAttribute("src",4))},E=function(e,n){return e.getAttribute("data-"+n)},S=/loaded|complete/,k=i.head||j("head",i)[0],C=j("base",k)[0],T=/\.[^.]*$/,B=function(e){if(!u._v)return e;var n=l(u._v)?u._v:u._v[e];return n?e.replace(T,"."+n+"$&"):e},L=null,D=function(t,r){var o=B(t),u=i.createElement("script"),c=!1,a=function(e){if(!c){if(c=!0,e&&"error"===e.type)throw"load script error\n"+o;r!==!0&&(L=u,ln(u)),k.removeChild(u),u=null}};u.src=o,u.id=t,u.async=!0,u.defer=!0,u.onload!==n?u.onload=u.onerror=a:u.onreadystatechange=function(n){S.test(u.readyState)&&(n=n||e.event,a(n))},C?k.insertBefore(u,C):k.appendChild(u)},G=function(e,n){var t={};try{t=JSON.parse(n)}catch(r){try{var o=new Function("","return "+n);t=o()}catch(i){throw"parse json error "+e}}return t},M=function(e,n){var t,r=B(e),o=new XMLHttpRequest,i=function(){if(4===o.readyState&&!t){if(t=!0,200!==o.status&&304!==o.status)throw"ajax error\n"+r;dn({_isAn:W._isAn,id:e,url:r,deps:[],factory:function(){var t=o.responseText;return t&&"json"===n&&(t=G(e,t)),t}})}};o.onload=o.onreadystatechange=o.onerror=o.onabort=o.ontimeout=i,o.open("GET",r),o.send(null)},N=function(e){dn({_isAn:W._isAn,id:e,url:B(e),deps:[],factory:function(){return e}})},O=function(){var e=j("script");return e[e.length-1]},F=O(),H=function(e){return g.test(e)&&(e=location.protocol+e),(e.match(h)||[])[0]},J=q(F),R=H(J),U=E(F,"config"),X=E(F,"main"),z=m(J),I=U?b(z,U):null,K=U?m(I):null,P=U?b(R,I):null,Q=function(){if(!U)return null;var e=H(P);return e?e:(e=R,P=e+P,e)}(),V=K,W={},Y={};Y.version=t;var Z=!1,en={},nn=[],tn={},rn=1,on=0;Y.config=function(n){var t=O(),r=q(t);if(J!==r&&(V=K=m(r),Q=H(r)),u=n,V=b(K,m(u.base,!0)),u.version=u.version||{},l(u.version)?u._v=u.version:(u._v={},d(u.version,function(e,n){u._v[Q+b(V,e)]=n})),X){var o=W.url=$(Q+b(V,X));W._dfn=!1,en[o]=W}return e.DEBUG=n.debug=n.debug!==!1,Y},Y.use=function(e){return Z?Y:(Z=!0,o=r(),e&&(W.url=Q+b(V,e),en[W.url]=W),W.url?(D(W.url),p.group("coolie modules"),Y):Y)},Y.callback=function(e){return W._executed&&f(e)?(e.call(Y,W.exports),Y):(f(e)&&c.push(e),Y)};var un=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,cn=/\\\\/g,an=/([^"']+)(?:['"]\s*?,\s*?['"]([^'"]*))?/,sn={image:"image",text:"text",html:"text",json:"json",css:"text"},fn=function(e){var n=[];return e.replace(cn,"").replace(un,function(e,t,r){if(r){var o=r.match(an),i={name:$(o[1],!!o[2]),type:o[2]?sn[o[2].toLowerCase()]:"js"};n.push(i)}}),n},ln=function(e){var n=!0,t=nn.shift();if(!t)throw"can not parse module "+(L?L.src:"undefined");var r=t[0],o=t[1],i=t[2],u=e.id,c=q(e),a=m(u);f(t[2])?n=!1:f(t[1])?(r=null,o=[],i=t[1]):f(t[0])&&(i=t[0],o=fn(i.toString()),r=null),r=W._dfn&&W._isAn?u:r||u;var s={_isAn:n,_path:a,_node:e,id:r,url:c,deps:o,factory:i};W.id||(n||(en[r]=en[W.url]),s._isMain=!0,W=s,W._dfn=!0);var p=[];d(o,function(e,n){if(l(n)&&(n={id:n}),W._isAn){var t=b(a,n.name);n.id=$(Q+t,"js"!==n.type)}if(r===n.id)throw"required myself: \n"+r;if(tn[n.id]&&d(tn[n.id].deps,function(e,n){if(n===r)throw"required circle: \n"+n+"\n"+r}),!en[n.id]&&(p.push(n.id),en[n.id]=!0,rn++,W._isAn))switch(n.type){case"text":case"json":M(n.id,n.type);break;case"image":N(n.id);break;default:D(n.id)}}),s.deps=p,dn(s),nn.length&&ln(L)},dn=function(n){n.exports={},n._execute=function(){var t=function(e,t){var r;if(W._isAn&&(r={name:e,type:t||"js"},e=Q+$(b(n._path,r.name),"js"!==r.type)),!tn[e])throw"can not found module \n"+e+"\nbut required in\n"+n.id;return tn[e]._execute()};return function(){var r=n.id;return n._executed?tn[r].exports:(n._executed=!0,tn[r].exports=n.factory.call(e,t,n.exports,n)||n.exports,tn[r].exports)}}(),tn[n.id]=n,on++,p.log("module "+n.id),nn.length||on!==rn||(p.log("past "+(r()-o)+"ms"),p.groupEnd("coolie modules"),W._execute(),d(c,function(e,n){n.call(Y,W.exports)}))},pn=function(e,n,t){nn.push([e,n,t])};U&&D(P,!0),e.coolie=Y,e.coolie.modules=tn,e.coolie.configs=u,e.coolie.each=d,e.define=pn,e.define.amd={},e.define.cmd={}}(this);