/*!
 * coolie 苦力
 * @author ydr.me
 * @version 0.7.1
 * @license MIT
 */
!function(){"use strict";var e="0.7.1",n=function(){return(new Date).getTime()},r=0,t=window,i=t.document,o={},u=[],c=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},a=function(e){return"array"===c(e)},s=function(e){return"function"===c(e)},f=function(e){return"string"===c(e)},l=function(e,n,r){var t,i;if(a(e))for(t=r?e.length-1:0,i=r?0:e.length;(r?t>i:i>t)&&n(t,e[t])!==!1;r?t--:t++);else if("object"==typeof e)for(t in e)if(n(t,e[t])===!1)break},d=function(){var e={},n=t.console,r=["log","warn","group","groupEnd"];return l(r,function(r,t){e[t]=function(){if(n&&n[t])try{n[t].apply(n,arguments)}catch(e){}}}),e}(),p=/\/[^/]+$/,v=function(e,n){return e=e.replace(x,""),"/"===e?e:p.test(e)?n?e+"/":e.replace(p,"/"):e},h=/^\//,g=/^(\.{1,2})\//,_=/\/[^/]+?\/$/,w=function(e,n){if(!n||h.test(n))return n;var r;for(n="./"+n;r=n.match(g);)n=n.replace(g,""),2===r[1].length&&(e=e.replace(_,"/"));return e+n},m=function(e,n){return(n||i).getElementsByTagName(e)},y=/[\?#].*?$/,x=/https?:\/\/[^/]*/,b=/\.js($|\?)/i,A=function(e,n){return e=e.replace(y,""),n?e:(_.test(e)&&(e+="index"),e+(b.test(e)?"":".js"))},S=function(e){return A(e.hasAttribute?e.src:e.getAttribute("src",4))},q=function(e,n){return e.getAttribute("data-"+n)},$=/loaded|complete/,j=i.head||m("head",i)[0],E=m("base",j)[0],M=null,T=[],C=/\.[^.]*$/,k=function(e){if(!o._v)return e;var n=f(o._v)?o._v:o._v[e];return n?e.replace(C,"."+n+"$&"):e},B=function(e,n){var r=k(e),o=i.createElement("script"),u=!1,c=function(e){if(!u){if(u=!0,e&&"error"===e.type)throw"load script error\n"+r;s(n)&&n(),j.removeChild(o),o=null}};T.push(o),o.src=r,o.id=e,o.async=!0,o.defer=!0,N?o.onload=o.onerror=c:o.onreadystatechange=function(e){$.test(o.readyState)&&(e=e||t.event,c(e))},M=o,E?j.insertBefore(o,E):j.appendChild(o),M=null},L=function(e){var n,r=k(e),t=new XMLHttpRequest,i=function(){if(4===t.readyState&&!n){if(n=!0,200!==t.status&&304!==t.status)throw"ajax error\n"+r;on({_isAn:Q._isAn,id:e,url:r,deps:[],factory:function(){return t.responseText}})}};t.onload=t.onreadystatechange=t.onerror=t.onabort=t.ontimeout=i,t.open("GET",r),t.send(null)},D=/interactive/,G=function(){if(M)return M;if(i.currentScript)return i.currentScript;var e=null,n=i.scripts||m("script",j);return l(n,function(n,r){return D.test(r.readyState)?(e=r,!1):void 0},!0),e?e:T.shift()},H=G(),N="onload"in H,O=S(H),R=O.match(x)[0],X=q(H,"config"),z=q(H,"main"),F=v(O),I=w(F,X),J=R+I,K={};K.version=e;var P=null,Q={},U=!1,V={},W={},Y=1,Z=0;K.config=function(e){o=e,P=w(F,v(o.base,!0)),o.version=o.version||{},o.host&&(R=o.host),f(o.version)?o._v=o.version:(o._v={},l(o.version,function(e,n){o._v[R+w(P,e)]=n}));var n=Q.url=A(R+w(P,z));return Q._defined=!1,V[n]=Q,K},K.use=function(){return U?void 0:(U=!0,r=n(),B(Q.url),d.group("coolie modules"),K)},K.callback=function(e){return s(e)&&u.push(e),K};var en=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,nn=/\\\\/g,rn=function(e){var n=[];return e.replace(nn,"").replace(en,function(e,r,t){t&&n.push(t)}),n},tn=/^(css|html|text)!/i,on=function(e){e.exports={},e._execute=function(){var n=function(n){var r=tn.test(n);n=n.replace(tn,"");var t=Q._isAn?R+A(w(e._path,n),r):n;if(!W[t])throw"can not found module \n"+t+"\nbut required in\n"+e.id;return W[t]._execute()};return function(){var r=e.id;return e._executed?W[r].exports:(e._executed=!0,W[r].exports=e.factory.call(window,n,e.exports,e)||e.exports,W[r].exports)}}();var t=e.id;W[t]=e,Z++,d.log((e._isMain?"main":"require")+" "+(e._isMain?e.url:t)),Z===Y&&(d.log("past "+(n()-r)+"ms"),d.groupEnd("coolie modules"),Q._execute(),l(u,function(e,n){n.call(K)}))},un=function(e,n,r){var t=arguments,i=!0,o=G(),u=o.id,c=S(o),a=v(u);s(t[2])?i=!1:s(t[1])?(e=null,n=[],r=t[1]):s(t[0])&&(r=t[0],n=rn(r.toString()),e=null),e=Q._defined&&Q._isAn?u:e||u;var f={_isAn:i,_path:a,id:e,url:c,deps:n,factory:r};Q.id||(i||(V[e]=V[Q.url]),f._isMain=!0,Q=f,Q._defined=!0);var d=[];l(n,function(r,t){var i=t;if(Q._isAn){var o=tn.test(t);t=t.replace(tn,"");var u=n[r]=w(a,t);i=A(R+u,o)}if(e===i)throw"required oneself: \n"+e;W[i]&&l(W[i].deps,function(n,r){if(r===e)throw"required circle: \n"+i+"\n"+e}),V[i]||(d.push(i),V[i]=!0,Y++,Q._isAn&&(o?L(i):B(i)))}),f.deps=d,on(f)};X&&B(J+"?"+n()),window.coolie=K,window.coolie.modules=W,window.coolie.configs=o,window.define=un,window.define.amd={},window.define.cmd={}}();