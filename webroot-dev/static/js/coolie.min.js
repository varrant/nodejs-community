/*!
 * coolie 苦力
 * @author ydr.me
 * @version 0.7.0
 * @license MIT
 */
!function(){"use strict";var e="0.7.0",n=function(){return(new Date).getTime()},t=0,r=window,i=r.document,o={},u=[],c=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},a=function(e){return"array"===c(e)},s=function(e){return"function"===c(e)},f=function(e){return"string"===c(e)},l=function(e,n,t){var r,i;if(a(e))for(r=t?e.length-1:0,i=t?0:e.length;(t?r>i:i>r)&&n(r,e[r])!==!1;t?r--:r++);else if("object"==typeof e)for(r in e)if(e.hasOwnProperty(r)&&n(r,e[r])===!1)break},d=function(){var e={},n=r.console,t=["log","warn","group","groupEnd"];return l(t,function(t,r){e[r]=function(){if(n&&n[r])try{n[r].apply(n,arguments)}catch(e){}}}),e}(),p=/\/[^/]+$/,v=function(e,n){return e=e.replace(x,""),"/"===e?e:p.test(e)?n?e+"/":e.replace(p,"/"):e},h=/^\//,g=/^(\.{1,2})\//,_=/\/[^/]+?\/$/,w=function(e,n){if(!n||h.test(n))return n;var t;for(n="./"+n;t=n.match(g);)n=n.replace(g,""),2===t[1].length&&(e=e.replace(_,"/"));return e+n},m=function(e,n){return(n||i).getElementsByTagName(e)},y=/[\?#].*?$/,x=/https?:\/\/[^/]*/,b=/\.js($|\?)/i,A=function(e,n){return e=e.replace(y,""),n?e:(_.test(e)&&(e+="index"),e+(b.test(e)?"":".js"))},S=function(e){return A(e.hasAttribute?e.src:e.getAttribute("src",4))},q=function(e,n){return e.getAttribute("data-"+n)},$=/loaded|complete/,j=i.head||m("head",i)[0],E=null,M=[],T=/\.[^.]*$/,k=function(e){if(!o._v)return e;var n=f(o._v)?o._v:o._v[e];return n?e.replace(T,"."+n+"$&"):e},C=function(e,n){var t=k(e),o=i.createElement("script"),u=function(e){if(e=e||r.event,e&&"error"===e.type)throw"load script error\n"+t;s(n)&&n()};M.push(o),o.src=t,o.id=e,o.async=!0,o.defer=!0,o.onreadystatechange=function(e){$.test(o.readyState)&&u(e)},o.onload=o.onerror=u,E=o,j.appendChild(o),E=null},L=function(e){var n,t=k(e),r=new XMLHttpRequest,i=function(){if(4===r.readyState&&!n){if(n=!0,200!==r.status&&304!==r.status)throw"ajax error\n"+t;tn({_isAn:J._isAn,id:e,url:t,deps:[],factory:function(){return r.responseText}})}};r.onload=r.onreadystatechange=r.onerror=r.onabort=r.ontimeout=i,r.open("GET",t),r.send(null)},O=/interactive/,B=function(){if(E)return E;if(i.currentScript)return i.currentScript;var e=null,n=i.scripts||m("script",j);return l(n,function(n,t){return O.test(t.readyState)?(e=t,!1):void 0},!0),e?e:M.shift()},D=B(),G=S(D),H=G.match(x)[0],N=q(D,"config"),P=q(D,"main"),R=v(G),X=w(R,N),z=H+X,F={};F.version=e;var I=null,J={},K=!1,Q={},U={},V=1,W=0;F.config=function(e){o=e,I=w(R,v(o.base,!0)),o.version=o.version||{},o.host&&(H=o.host),f(o.version)?o._v=o.version:(o._v={},l(o.version,function(e,n){o._v[H+w(I,e)]=n}));var n=J.url=A(H+w(I,P));return J._defined=!1,Q[n]=J,F},F.use=function(){return K?void 0:(K=!0,t=n(),C(J.url),d.group("coolie modules"),F)},F.callback=function(e){return s(e)&&u.push(e),F};var Y=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,Z=/\\\\/g,en=function(e){var n=[];return e.replace(Z,"").replace(Y,function(e,t,r){r&&n.push(r)}),n},nn=/^(css|html|text)!/i,tn=function(e){e.exports={},e._execute=function(){var n=function(n){var t=nn.test(n);n=n.replace(nn,"");var r=J._isAn?H+A(w(e._path,n),t):n;if(!U[r])throw"can not found module \n"+r+"\nbut required in\n"+e.id;return U[r]._execute()};return function(){var t=e.id;return e._executed?U[t].exports:(e._executed=!0,U[t].exports=e.factory.call(window,n,e.exports,e)||e.exports,U[t].exports)}}();var r=e.id;U[r]=e,W++,d.log(e._isMain?"main":"require",e._isMain?e.url:r),W===V&&(d.log("past",n()-t+"ms"),d.groupEnd("coolie modules"),J._execute(),l(u,function(e,n){n.call(F)}))},rn=function(e,n,t){var r=arguments,i=!0,o=B(),u=o.id,c=S(o),a=v(u);s(r[2])?i=!1:s(r[1])?(e=null,n=[],t=r[1]):s(r[0])&&(t=r[0],n=en(t.toString()),e=null),e=J._defined&&J._isAn?u:e||u;var f={_isAn:i,_path:a,id:e,url:c,deps:n,factory:t};J.id||(i||(Q[e]=Q[J.url]),f._isMain=!0,J=f,J._defined=!0);var d=[];l(n,function(t,r){var i=r;if(J._isAn){var o=nn.test(r);r=r.replace(nn,"");var u=n[t]=w(a,r);i=A(H+u,o)}if(e===i)throw"required oneself: \n"+e;U[i]&&l(U[i].deps,function(n,t){if(t===e)throw"required circle: \n"+i+"\n"+e}),Q[i]||(d.push(i),Q[i]=!0,V++,J._isAn&&(o?L(i):C(i)))}),f.deps=d,tn(f)};N&&C(z),window.coolie=F,window.coolie.modules=U,window.coolie.configs=o,window.define=rn,window.define.amd={},window.define.cmd={}}();